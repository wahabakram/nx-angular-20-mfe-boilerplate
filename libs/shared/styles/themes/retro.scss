@use 'sass:map';
@use '@angular/material' as mat;

// Retro Theme - Vintage warm colors with brown/orange tones
$_palettes: (
  primary: (
    0: #000000,
    10: #2d1200,
    20: #4a2100,
    25: #592900,
    30: #693200,
    35: #793b00,
    40: #8a4400,
    50: #ad5900,
    60: #d27000,
    70: #f68a2f,
    80: #ffb780,
    90: #ffdcc5,
    95: #ffede5,
    98: #fff8f5,
    99: #fffbff,
    100: #ffffff,
  ),
  secondary: (
    0: #000000,
    10: #271910,
    20: #3e2e23,
    25: #4a382e,
    30: #564339,
    35: #624f44,
    40: #6f5b50,
    50: #897368,
    60: #a48c81,
    70: #c0a79b,
    80: #ddc2b6,
    90: #fbded1,
    95: #ffede5,
    98: #fff8f5,
    99: #fffbff,
    100: #ffffff,
  ),
  tertiary: (
    0: #000000,
    10: #152016,
    20: #29352a,
    25: #344035,
    30: #404c40,
    35: #4b574c,
    40: #576358,
    50: #707c70,
    60: #8a9689,
    70: #a5b0a3,
    80: #c0ccbe,
    90: #dce8da,
    95: #ebf6e8,
    98: #f3fef0,
    99: #f7fff2,
    100: #ffffff,
  ),
  neutral: (
    0: #000000,
    4: #0c0a09,
    6: #12100e,
    10: #1f1b18,
    12: #231f1c,
    17: #2d2926,
    20: #34302c,
    22: #383430,
    24: #3c3834,
    25: #3f3b37,
    30: #4b4642,
    35: #57524d,
    40: #635e59,
    50: #7c7771,
    60: #96908a,
    70: #b1aba5,
    80: #cdc6c0,
    87: #e1d9d2,
    90: #eae2db,
    92: #efe7e1,
    94: #f5ede7,
    95: #f8f0ea,
    96: #faf2ed,
    98: #fff8f5,
    99: #fffbff,
    100: #ffffff,
  ),
  neutral-variant: (
    0: #000000,
    10: #241a13,
    20: #3a2f27,
    25: #453a31,
    30: #51453c,
    35: #5d5148,
    40: #695d53,
    50: #83756b,
    60: #9d8f84,
    70: #b9a99e,
    80: #d5c4b9,
    90: #f2e0d5,
    95: #ffede5,
    98: #fff8f5,
    99: #fffbff,
    100: #ffffff,
  ),
  error: (
    0: #000000,
    10: #410002,
    20: #690005,
    25: #7e0007,
    30: #93000a,
    35: #a80710,
    40: #ba1a1a,
    50: #de3730,
    60: #ff5449,
    70: #ff897d,
    80: #ffb4ab,
    90: #ffdad6,
    95: #ffedea,
    98: #fff8f7,
    99: #fffbff,
    100: #ffffff,
  ),
);

$_rest: (
  secondary: map.get($_palettes, secondary),
  neutral: map.get($_palettes, neutral),
  neutral-variant: map.get($_palettes, neutral-variant),
  error: map.get($_palettes, error),
);

$primary-palette: map.merge(map.get($_palettes, primary), $_rest);
$tertiary-palette: map.merge(map.get($_palettes, tertiary), $_rest);

@use "../_common" with (
  $m3-light-theme: mat.define-theme((
    color: (
      theme-type: light,
      primary: $primary-palette,
      tertiary: $tertiary-palette,
      use-system-variables: true,
      system-variables-prefix: sys,
    ),
    typography: (
      brand-family: 'var(--font-sans)',
      plain-family: 'var(--font-sans)',
      use-system-variables: true,
      system-variables-prefix: sys,
    ),
    density: (
      scale: 0,
    ),
  )),
  $m3-dark-theme: mat.define-theme((
    color: (
      theme-type: dark,
      primary: $primary-palette,
      tertiary: $tertiary-palette,
      use-system-variables: true,
      system-variables-prefix: sys,
    ),
    typography: (
      brand-family: 'var(--font-sans)',
      plain-family: 'var(--font-sans)',
      use-system-variables: true,
      system-variables-prefix: sys,
    ),
    density: (
      scale: 0,
    ),
  ))
);

@function _high-contrast-value($light, $dark, $theme-type) {
  @if ($theme-type == light) {
    @return $light;
  }
  @if ($theme-type == dark) {
    @return $dark;
  }
  @if ($theme-type == color-scheme) {
    @return light-dark(#{$light}, #{$dark});
  }

  @error 'Unknown theme-type #{$theme-type}. Expected light, dark, or color-scheme';
}

@mixin high-contrast-overrides($theme-type) {
  @include mat.theme-overrides((
    primary: _high-contrast-value(#4a2100, #ffede5, $theme-type),
    on-primary: _high-contrast-value(#ffffff, #000000, $theme-type),
    primary-container: _high-contrast-value(#793b00, #ffb780, $theme-type),
    on-primary-container: _high-contrast-value(#ffffff, #140900, $theme-type),
    inverse-primary: _high-contrast-value(#ffb780, #8a4400, $theme-type),
    primary-fixed: _high-contrast-value(#793b00, #ffdcc5, $theme-type),
    primary-fixed-dim: _high-contrast-value(#592900, #ffb780, $theme-type),
    on-primary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
    on-primary-fixed-variant: _high-contrast-value(#ffffff, #140900, $theme-type),
    secondary: _high-contrast-value(#3e2e23, #ffede5, $theme-type),
    on-secondary: _high-contrast-value(#ffffff, #000000, $theme-type),
    secondary-container: _high-contrast-value(#624f44, #ddc2b6, $theme-type),
    on-secondary-container: _high-contrast-value(#ffffff, #130d08, $theme-type),
    secondary-fixed: _high-contrast-value(#624f44, #fbded1, $theme-type),
    secondary-fixed-dim: _high-contrast-value(#4a382e, #ddc2b6, $theme-type),
    on-secondary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
    on-secondary-fixed-variant: _high-contrast-value(#ffffff, #130d08, $theme-type),
    tertiary: _high-contrast-value(#29352a, #ebf6e8, $theme-type),
    on-tertiary: _high-contrast-value(#ffffff, #000000, $theme-type),
    tertiary-container: _high-contrast-value(#4b574c, #c0ccbe, $theme-type),
    on-tertiary-container: _high-contrast-value(#ffffff, #0b100b, $theme-type),
    tertiary-fixed: _high-contrast-value(#4b574c, #dce8da, $theme-type),
    tertiary-fixed-dim: _high-contrast-value(#344035, #c0ccbe, $theme-type),
    on-tertiary-fixed: _high-contrast-value(#ffffff, #000000, $theme-type),
    on-tertiary-fixed-variant: _high-contrast-value(#ffffff, #0b100b, $theme-type),
    background: _high-contrast-value(#fff8f5, #0f0c0a, $theme-type),
    on-background: _high-contrast-value(#1f1b18, #eae2db, $theme-type),
    surface: _high-contrast-value(#fff8f5, #0f0c0a, $theme-type),
    surface-dim: _high-contrast-value(#e0d8d1, #0f0c0a, $theme-type),
    surface-bright: _high-contrast-value(#fff8f5, #57524d, $theme-type),
    surface-container-low: _high-contrast-value(#f8f0ea, #1d2024, $theme-type),
    surface-container-lowest: _high-contrast-value(#ffffff, #000000, $theme-type),
    surface-container: _high-contrast-value(#eae2db, #34302c, $theme-type),
    surface-container-high: _high-contrast-value(#ded6cf, #3f3b37, $theme-type),
    surface-container-highest: _high-contrast-value(#cdc6c0, #4b4642, $theme-type),
    on-surface: _high-contrast-value(#000000, #ffffff, $theme-type),
    shadow: _high-contrast-value(#000000, #000000, $theme-type),
    scrim: _high-contrast-value(#000000, #000000, $theme-type),
    surface-tint: _high-contrast-value(#8a4400, #ffb780, $theme-type),
    inverse-surface: _high-contrast-value(#34302c, #eae2db, $theme-type),
    inverse-on-surface: _high-contrast-value(#ffffff, #000000, $theme-type),
    outline: _high-contrast-value(#3a2f27, #ffede5, $theme-type),
    outline-variant: _high-contrast-value(#51453c, #d5c4b9, $theme-type),
    error: _high-contrast-value(#690005, #ffedea, $theme-type),
    on-error: _high-contrast-value(#ffffff, #000000, $theme-type),
    error-container: _high-contrast-value(#a80710, #ffb4ab, $theme-type),
    on-error-container: _high-contrast-value(#ffffff, #200001, $theme-type),
    surface-variant: _high-contrast-value(#f2e0d5, #51453c, $theme-type),
    on-surface-variant: _high-contrast-value(#000000, #ffffff, $theme-type),
  ))
}

@include mat.elevation-classes();
@include mat.app-background();
