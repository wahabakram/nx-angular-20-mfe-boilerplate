<div class="youtube-block">
  <mat-form-field appearance="outline" style="width: 100%">
    <mat-label>YouTube URL</mat-label>
    <input
      matInput
      id="yt-url"
      type="url"
      placeholder="Paste a YouTube video link"
      [formControl]="ytControl"
    />
    @if (ytControl.value.trim().length > 0 && ytControl.hasError('youtubeUrl')) {
      <mat-error>Please enter a valid YouTube video URL</mat-error>
    }
  </mat-form-field>

  @if (embedUrlSafe(); as safeUrl) {
    <div class="preview">
      <iframe
        width="100%"
        height="400"
        [src]="safeUrl"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
      ></iframe>
    </div>
  } @else {
    <div class="preview bg-surface-container-low rounded-3xl h-[400px]">
    </div>
  }
</div>
