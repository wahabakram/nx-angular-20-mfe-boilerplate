@if (uploading()) {
  <div class="upload-container">
    <div class="upload-overlay">
      <mat-progress-bar mode="indeterminate" class="progress-bar"/>
      <div class="remove-button">
        <button mat-icon-button (click)="cancelUploading()">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <div class="upload-overlay-text">Loading...</div>
    </div>
    <img [src]="selectedImage()" [alt]="block().data.alt">
  </div>
} @else if (block().data.src) {
  <div class="uploaded-image">
    <mf-image-resizer (imageResized)="_onImageResized($event)" [imageMaxWidth]="928">
      <img [src]="block().data.src" [alt]="block().data.alt" mfImageResizerImage
           [attr.width]="block().data.width || null" [height]="block().data.height || null">
    </mf-image-resizer>
  </div>
} @else {
  <mf-upload-area #uploadArea="mfUploadArea"
                   mfUploadTrigger accept="image/*"
                   multiple="false"
                   (fileSelected)="onFileSelected($event)"
                   class="upload-area h-[105px]">
    <ng-container mfUploadAreaMainState>
      Drag & drop <button class="text-primary cursor-pointer">or choose image</button> to upload
    </ng-container>
    <ng-container mfUploadAreaDropState>
      Drop image here
    </ng-container>
    <ng-container mfUploadAreaInvalidState>
      Invalid file to drop, images accept only.
    </ng-container>
  </mf-upload-area>
}
