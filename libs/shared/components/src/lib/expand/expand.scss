:host {
  --mf-expand-fade-color: theme('colors.base-100');
  --mf-expand-button-bg: theme('colors.base-200');
  --mf-expand-button-hover-bg: theme('colors.base-300');
  --mf-expand-button-color: theme('colors.base-content');
  --mf-expand-button-font-size: theme('fontSize.xs');
  --mf-expand-button-box-shadow: theme('boxShadow.md');
  --mf-expand-button-border-radius: theme('borderRadius.full');
  --mf-expand-button-padding: theme('spacing.2') theme('spacing.4');
  --mf-expand-button-hover-opacity: 0.9;
  --mf-expand-expanded-height: 300px;

  display: block;
  position: relative;
  max-height: var(--mf-expand-expanded-height);
  overflow: hidden;

  .button {
    position: absolute;
    inset-inline-start: 50%;
    bottom: theme('spacing.12');
    padding: var(--mf-expand-button-padding);
    border-radius: var(--mf-expand-button-border-radius);
    background: var(--mf-expand-button-bg);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2;
    transform: translate(-50%, 50%);
    color: var(--mf-expand-button-color);
    font-size: var(--mf-expand-button-font-size);
    box-shadow: var(--mf-expand-button-box-shadow);
  }

  .button {
    &:hover {
      cursor: pointer;
      opacity: var(--mf-expand-button-hover-opacity);
      background: var(--mf-expand-button-hover-bg);
    }

    &:active {
      scale: .98;
    }
  }

  &:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    background: linear-gradient(transparent, var(--mf-expand-fade-color));
    z-index: 1;
  }

  &.is-expanded {
    max-height: max-content;
    overflow: auto;

    &:after {
      display: none;
    }

    .button {
      visibility: hidden;
    }

    &:hover {
      .button {
        visibility: visible;
      }
    }
  }
}
