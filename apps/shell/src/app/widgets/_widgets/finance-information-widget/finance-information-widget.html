<div class="p-6">
  <div class="flex justify-between items-center mb-5">
    <h2 class="font-semibold">Information</h2>
    <a href="#" class="text-sm text-primary hover:text-tertiary">See all</a>
  </div>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
    @for (card of cards(); track card.title) {
      <div
        class="p-4 rounded-xl relative flex flex-col justify-between min-h-[160px]"
        [class]="card.bgColor + (card.borderColor ? ' border ' + card.borderColor : '')">

        <div class="absolute top-4 right-4 bg-surface-container-lowest rounded-full p-3 flex items-center justify-center">
          <mat-icon class="text-neutral-700">{{ card.icon }}</mat-icon>
        </div>

        <div class="flex flex-col h-full">
          @switch (card.type) {
            @case ('progress') {
              <div class="flex-grow">
                <p class="text-3xl font-semibold">{{ card.value }}</p>
                <p class="text-sm text-neutral-500 mt-1">{{ card.description }}</p>
                <p class="text-sm text-neutral-500">{{ card.title }}</p>
              </div>
              <div class="w-full bg-indigo-200 rounded-full h-1.5 mt-4">
                <div class="bg-indigo-600 h-1.5 rounded-full"
                     [style.width.%]="getProgressPercentage(card.currentValue, card.limit)">
                </div>
              </div>
            }
            @case ('info') {
              @if(card.value) {
                <div class="flex-grow">
                  <p class="text-3xl font-semibold">{{ card.value }}</p>
                  <p class="text-sm text-neutral-500 mt-1">{{ card.description }}</p>
                </div>
              } @else {
                <div class="flex flex-col justify-end h-full">
                  <p class="text-xl font-semibold">{{ card.title }}</p>
                  <p class="text-sm text-neutral-500">{{ card.description }}</p>
                </div>
              }
            }
          }
        </div>
      </div>
    }
  </div>
</div>
