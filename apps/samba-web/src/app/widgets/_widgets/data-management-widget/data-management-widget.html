<div class="p-6">
  <div class="flex items-center justify-between mb-4">
    <div>
      <h3 class="text-lg font-semibold">Mock Data Management</h3>
      <p class="text-sm text-neutral-500">Manage test data for the application</p>
    </div>
    <mat-icon class="text-primary text-4xl">database</mat-icon>
  </div>

  @if (message()) {
    <div class="mb-4 p-3 rounded-lg" [class.bg-success-50]="message()?.includes('✅')" [class.bg-error-50]="message()?.includes('❌')">
      <p class="text-sm">{{ message() }}</p>
    </div>
  }

  <div class="space-y-3">
    <div class="flex items-center justify-between p-3 bg-surface-container rounded-lg">
      <div>
        <p class="font-medium">Data Status</p>
        <p class="text-sm text-neutral-600">
          @if (isDataSeeded()) {
            <span class="text-success">✓ Mock data is seeded</span>
          } @else {
            <span class="text-neutral-500">○ No mock data seeded</span>
          }
        </p>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
      <button
        mat-raised-button
        color="primary"
        (click)="seedData(false)"
        [disabled]="isSeeding() || isDataSeeded()">
        @if (isSeeding()) {
          <mat-progress-spinner diameter="20" mode="indeterminate" class="mr-2"></mat-progress-spinner>
        } @else {
          <mat-icon>download</mat-icon>
        }
        Seed Data
      </button>

      <button
        mat-stroked-button
        color="primary"
        (click)="seedData(true)"
        [disabled]="isSeeding()">
        @if (isSeeding()) {
          <mat-progress-spinner diameter="20" mode="indeterminate" class="mr-2"></mat-progress-spinner>
        } @else {
          <mat-icon>refresh</mat-icon>
        }
        Re-seed (Force)
      </button>

      <button
        mat-stroked-button
        (click)="clearData()"
        [disabled]="isSeeding() || !isDataSeeded()">
        <mat-icon>clear</mat-icon>
        Clear Flag
      </button>

      <button
        mat-stroked-button
        color="accent"
        (click)="refreshPage()">
        <mat-icon>autorenew</mat-icon>
        Refresh Page
      </button>
    </div>

    <div class="mt-4 p-3 bg-neutral-50 rounded-lg">
      <p class="text-xs text-neutral-600 mb-2"><strong>How it works:</strong></p>
      <ul class="text-xs text-neutral-600 space-y-1 list-disc list-inside">
        <li><strong>Seed Data:</strong> Creates 50 sample products across 8 categories</li>
        <li><strong>Re-seed (Force):</strong> Deletes and recreates all mock data</li>
        <li><strong>Clear Flag:</strong> Removes the "seeded" flag to allow auto-seeding on restart</li>
        <li><strong>Refresh Page:</strong> Reloads the app to see updated data</li>
      </ul>
    </div>
  </div>
</div>
